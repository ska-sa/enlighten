<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="primary">
  <ion-navbar color="primary">
    <ion-title>Register</ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top color="primary" class="respect">
    <ion-segment [(ngModel)]="browse" [hidden]="true">
      <ion-segment-button value="info" style="color: white">
        Signup Info
      </ion-segment-button>
      <ion-segment-button value="details" style="color: white">
        Student Details
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding [ngSwitch]="browse">
  <!------------Signup Info---------->
  <div *ngSwitchCase="'info'">
    <h2> Please fill in your details </h2>
    <ion-avatar>
        <img src="assets/img/man.png">
    </ion-avatar>

    <ion-grid>
      <!------------First & Surname---------->
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>First Name <span danger>*</span></ion-label>
            <ion-input required type="text"[(ngModel)]="fname"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label stacked>Last Name <span danger>*</span></ion-label>
            <ion-input required type="text"[(ngModel)]="sname"></ion-input>
          </ion-item>
        </ion-col>
        <span class="hint"> {{ errors.fname }} </span>
        <span class="hint"> {{ errors.sname }} </span>
      </ion-row>
      <!------------Cell number---------->
      <ion-row>
        <ion-item>
          <ion-label stacked>Cellphone Number <span danger>*</span></ion-label>
          <ion-input required type="tel" [(ngModel)]="cell"></ion-input>
        </ion-item>
        <span class="hint"> {{ errors.cell }} </span>
      </ion-row>

      <!------------ Guardian Cell number---------->
      <ion-row>
        <ion-item>
          <ion-label stacked>Guardian Cellphone Number <span danger>*</span></ion-label>
          <ion-input required type="tel" [(ngModel)]="gcell"></ion-input>
        </ion-item>
        <span class="hint"> {{ errors.gcell }} </span>
      </ion-row>
    </ion-grid>

    <button ion-button class="reduce" color="primary" (click)="next('details')">
      Proceed
    </button>

  </div>
  <!------------Student Details---------->
  <div *ngSwitchCase="'details'">
    <h2> Education details </h2>
    <ion-grid>
      <!------------Grade---------->
      <ion-row>
        <ion-item>
          <ion-label stacked>Grade <span danger>*</span></ion-label>
          <ion-select required [(ngModel)]="grd">
            <ion-option value="8">8</ion-option>
            <ion-option value="9">9</ion-option>
            <ion-option value="10">10</ion-option>
            <ion-option value="11">11</ion-option>
            <ion-option value="12">12</ion-option>
          </ion-select>
        </ion-item>
        <span class="hint"> {{ errors.grade }} </span>
      </ion-row>
      <!------------School---------->
      <ion-row>
        <!--<ion-item>
            <ion-label stacked>School</ion-label>
            <ion-input (change)="getItems($event)" type="text" [(ngModel)]="sch"></ion-input>
        </ion-item>-->
        <ion-item class="school">
          <ion-searchbar
            [(ngModel)]="sch"
            (ionFocus)="addFocus()"
            (ionInput)="getItems($event)"
            (ionBlur)="removeFocus()"
            debounce=500 no-padding
            placeholder="School *"
            required>
          </ion-searchbar>
          <ion-list [hidden]="schfocused != true" no-padding>
            <ion-item class="list"  no-padding *ngFor="let school of schools" (click)="selectSchool(school)">
              {{school.school}}
            </ion-item>
          </ion-list>
        </ion-item>
        <span class="hint"> {{ errors.school }} </span>
      </ion-row>
      
    </ion-grid>
    <!------------Google---------->
    <button class="reduce" ion-button icon-left color="primary" (click)="next('final')">
      Next
    </button>
    
  </div>

  <div *ngSwitchCase="'final'" text-center>
    <!------------Email---------->
    <ion-row>
      <ion-item no-padding padding-horizontal>
        <ion-label stacked>Email Address <span danger>*</span></ion-label>
        <ion-input type="email" [(ngModel)]="email" placeholder="Enter your email address here"></ion-input>
      </ion-item>
      <span class="hint"> {{ errors.email }} </span>
    </ion-row>

    <ion-row>
      <ion-item no-padding padding-horizontal>
        <ion-label stacked>Password <span danger>*</span></ion-label>
        <ion-input type="password" [(ngModel)]="password" placeholder="Password"></ion-input>
      </ion-item>
    </ion-row>

    <ion-row>
      <ion-item no-padding padding-horizontal>
        <ion-label stacked>Confirm password <span danger>*</span></ion-label>
        <ion-input type="password" [(ngModel)]="password2" placeholder="Password"></ion-input>
      </ion-item>
      <span class="hint"> {{ errors.password }} </span>
    </ion-row>

    <ion-row padding-horizontal>
      <button padding class="sign" ion-button color="accent3" no-border (click)="register()">
          Register
      </button>
    </ion-row>

    <ion-grid no-padding>
      <ion-row no-padding> <p class="text">or sign in with</p> </ion-row>
      <ion-row no-padding padding-horizontal>
        <ion-col text-center>
          <button class="btn" ion-button icon-left color="gg" (click)="gg()">
            <ion-icon name="logo-google"></ion-icon>
            Google
          </button>
        </ion-col>
          
        <ion-col text-center>
          <button class="btn" ion-button icon-left color="fb" (click)="fb()">
            <ion-icon name="logo-facebook"></ion-icon>
            Facebook
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

</ion-content>
